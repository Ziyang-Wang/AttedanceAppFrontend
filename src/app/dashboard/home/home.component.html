<div class="container-fluid d-flex w-100 h-100 p-3 mx-auto flex-column bg-light">
    <div class="mb-auto">
        <div class="container-fluid">
            <div class="row d-flex justify-content-between mb-3">
                <div class="p-2"><h3 class="h3 mb">Dashboard</h3></div>
                <div class="p-2">
                    <div (click)="logout()" class="pointer" *ngIf="loginInfo?.role"> 
                        <svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="4455" width="35" height="35"><path d="M733.726 647.766 778.98 693.02 960 512 778.98 330.98 733.724 376.236 837.49 480 384 480 384 544 837.49 544Z" p-id="4456" fill="#8a8a8a"></path><path d="M782.982 783.532C710.458 856.058 614.036 896 511.472 896c-102.574 0-199.012-39.942-271.544-112.47C167.394 711.002 128 614.57 128 512c0-102.562 39.394-198.99 111.93-271.522C312.464 167.946 408.9 128 511.472 128c102.558 0 198.982 39.946 271.51 112.476 5.054 5.056 9.932 10.242 14.666 15.524l81.462 0c-80.948-116.056-215.418-192-367.638-192C264.042 64 64 264.596 64 512c0 247.43 200.042 448 447.472 448 152.224 0 286.7-75.94 367.644-192l-81.46 0C792.92 773.286 788.042 778.472 782.982 783.532z" p-id="4457" fill="#8a8a8a"></path></svg>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <ng-container *ngIf="!loginInfo?.role; else template">
        <div class="content">
            <div class="p-0 container">
                <div class="row justify-content-center">
                    <div class="col-md-6 col-xl-5">
                        <div class="card">
                            <div class="card-header">
                                <h5 class="mb-0 card-title">Details</h5>
                            </div>
                            <div class="text-center card-body">
                                <img src="assets/avatar.jpg" alt="Stacie Hall" class="img-fluid rounded-circle mb-2" width="200" height="200">
                                <h5 class="mb-0 card-title">{{student.studentName}}</h5>
                                <div class="mt-3">
                                    <button type="button" class="btn btn-primary btn-sm mr-2" (click)="mark()">Mark Attendance</button>
                                    <button type="button" class="btn btn-link btn-sm" (click)="logout()">Logout</button>
                                </div>
                                <div class="mt-3" *ngIf="error">
                                    <small class="text-danger">
                                        only once per day
                                    </small>
                                </div>
                            </div>
                            <hr class="my-0">
                            <div class="card-body">
                                <h5 class="card-title">
                                    Class Name: {{student.className}}
                                    <br>
                                    Pid: {{student.pid}}
                                    <br>
                                    Email: {{student.email}}</h5>
                                <small>Attendence rate:</small><span class="mr-1 my-1 badge badge-primary">  {{student.attRate}}%</span>
                            </div>
                        </div>
                    </div>     
                </div>
            </div>
        </div>
    </ng-container>        
    <div class="mt-auto"></div>
    <div class="mt-auto"></div>
</div>

<ng-template #template>
    <div class="content">
        <div class="p-0 container">
            <div class="row justify-content-center">
                <table class="table table-striped table-centered mb-0">
                    <thead>
                        <tr>
                            <th>Class</th>
                            <th>Attendance Rate Today</th>
                            <th>Num of Students</th>
                            <th>Details</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr *ngFor="let class of classes; index as i;">
                            <td class="table-user">
                                <svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2023" width="32" height="32"><path d="M206.149127 551.174208c10.505261 0 19.039635-8.324596 19.039635-18.974144V308.311925c0-10.441816-8.534374-18.365276-19.039635-18.365277-10.141988 0-18.288528 7.92346-18.288528 18.365277v223.888139c0 10.649548 8.147564 18.974144 18.288528 18.974144z m-38.561248 196.056258c10.959609 11.207249 26.629497 18.521842 43.931559 18.521842 17.249873 0 32.528857-6.941086 44.046169-18.134009l0.557701-0.387833c11.347442-11.440563 18.298761-27.107381 18.298762-44.447305 0-17.704221-6.951319-33.607422-18.298762-44.603871-11.480472-11.400654-26.992771-18.4717-44.60387-18.4717-17.303085 0-32.971949 7.071046-43.931559 18.4717-11.477402 11.517311-18.829857 26.89965-18.829857 44.603871 0 16.665565 6.938016 32.124651 17.496489 43.345204l1.333368 1.102101z m26.058493-62.865793c4.359284-4.539386 10.896164-7.224542 17.874089-7.224542 7.522324 0 13.669324 2.685155 18.235317 7.224542 4.773723 4.669346 7.535627 11.337209 7.535626 18.418488 0 6.988158-2.762927 13.526061-7.535626 18.014282v0.220011c-4.565992 4.526083-10.712993 7.625678-18.235317 7.625678-6.977925 0-13.514805-3.25616-17.874089-7.846712l-1.038656-0.674359c-3.941775-4.669346-6.744611-10.518564-6.744611-17.339923 0-7.080256 2.802836-13.748119 7.783267-18.417465z m523.860119-8.521071c0 17.393135 6.898107 33.04665 18.626219 44.473911 11.127432 11.193947 26.977421 18.431791 44.046169 18.431791 17.483186 0 33.357735-7.237845 44.487213-18.431791 11.541871-11.42726 18.46863-27.080775 18.468631-44.473911 0-16.758686-6.53688-31.763424-17.068748-43.578518l-1.399883-0.88209c-11.129478-11.207249-27.004027-18.58631-44.487213-18.58631-17.068747 0-32.918737 7.379061-44.046169 18.58631-11.727089 11.400654-18.626219 27.080775-18.626219 44.460608z m45.058218-18.08182c4.332678-4.563946 10.686387-7.522324 17.61417-7.522324 7.392364 0 13.722536 2.959402 18.272155 7.522324l1.208525 0.700964c3.761674 4.409426 6.548136 10.558473 6.548136 17.379833 0 7.067976-3.397377 13.69593-7.92346 18.067494-4.38282 4.552689-10.712993 7.41897-18.105356 7.41897-6.927783 0-13.281491-2.866281-17.61417-7.41897-4.800329-4.372587-7.939833-10.999518-7.939833-18.067494 0.001023-7.054673 3.140527-13.721513 7.939833-18.080797z m29.753651-496.803903c-4.359284-16.537651-21.635763-26.431999-37.923728-21.775956l-184.021153 49.053206c-5.368264-8.367575-15.095813-13.619182-25.965372-13.619183H93.569072c-17.276479 0-31.179117 13.619182-31.179116 30.789237v649.294946c0 17.574261 13.902638 31.269168 31.179116 31.269168h450.840059c17.429974 0 31.128975-13.69593 31.128974-31.269168v-391.57835l107.209744 399.698285c4.332678 16.692171 21.218254 26.431999 38.080294 22.047132l218.000035-58.376549c16.264429-4.13825 25.991977-21.311375 21.815865-37.899168L792.31836 160.957879zM300.401768 823.832098h-175.650509v-587.582419h175.650509v587.582419z m213.215056 0H337.743234v-587.582419h175.87359v587.582419z m221.112933-6.861268L582.51296 249.464655l157.795863-42.476417L892.756887 774.714424l-158.02713 42.256406z m-302.901704-51.218522c17.276479 0 32.762171-7.315616 44.279482-18.521842 11.698436-11.440563 18.649755-27.107381 18.649756-44.447305 0-16.835434-6.561439-32.180933-17.066701-43.698245l-1.583055-0.905626c-11.517311-11.400654-27.004027-18.4717-44.279482-18.4717s-32.956599 7.071046-44.460608 18.4717c-11.711739 10.996448-18.46863 26.89965-18.46863 44.603871 0 17.339924 6.757914 33.006741 18.46863 44.447305 11.505032 11.206226 27.184129 18.521842 44.460608 18.521842z m-18.054192-81.387635c4.359284-4.539386 10.9197-7.224542 18.054192-7.224542s13.69593 2.685155 18.288528 7.224542l0.571005 0.714267c4.176113 4.64274 6.744611 10.621918 6.744611 17.704221 0 6.988158-2.982938 13.526061-7.54893 18.014282-4.359284 4.589528-10.9197 7.846712-18.054191 7.846712s-13.69593-3.25616-18.054191-7.846712c-4.747117-4.489244-7.783267-11.026124-7.783267-18.014282-0.001023-7.081279 3.035126-13.749142 7.782243-18.418488z m18.054192-133.190465c10.117428 0 18.859533-8.324596 18.859533-18.974144V308.311925c0-10.441816-8.742105-18.365276-18.859533-18.365277-10.351766 0-18.676361 7.92346-18.676362 18.365277v223.888139c0 10.649548 8.325619 18.974144 18.676362 18.974144z m243.369843-271.371594c-9.727549 2.518357-15.666818 12.827143-13.100366 22.556738l58.158584 216.857003c2.595105 9.920954 12.880355 15.900132 23.034623 12.983709 10.115382-2.361791 15.873526-12.697183 12.890588-22.413475l-58.156538-216.948078c-2.387373-9.856485-12.541641-15.798824-22.826891-13.035897z" p-id="2024" fill="#2c2c2c"></path></svg>
                                {{class.className}}
                            </td>
                            <td><span class="mr-1 my-1 badge badge-primary">{{class.attRate}}%</span></td>
                            <td><span class="mr-1 my-1 badge badge-primary">{{class.totalStudents}}</span></td>
                            <td class="table-action">
                                <a [routerLink]="['../class/'+class.classId]">
                                    <svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="3818" width="25" height="25"><path d="M489.376 534.624a31.904 31.904 0 0 0 45.248 0l304-304a31.968 31.968 0 1 0-45.248-45.248l-304 304a31.968 31.968 0 0 0 0 45.248" p-id="3819" fill="#13227a"></path><path d="M832 480a32 32 0 0 0-32 32l0.256 288L224 800.256 223.744 224H512a32 32 0 0 0 0-64H223.744A63.84 63.84 0 0 0 160 223.744v576.512C160 835.392 188.608 864 223.744 864h576.512A63.84 63.84 0 0 0 864 800.256V512a32 32 0 0 0-32-32" p-id="3820" fill="#13227a"></path></svg>
                                </a>
                            </td>
                        </tr>                                             
                    </tbody>
                </table>
            </div>
        </div>
    </div>          
</ng-template>
 